<template>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <nav class="nav">
        <router-link to="/">–ì–ª–∞–≤–Ω–∞—è</router-link>
        <router-link to="/catalog">–ö–∞—Ç–∞–ª–æ–≥</router-link>
        <router-link to="/services">–£—Å–ª—É–≥–∏</router-link>
        <router-link to="/projects">–ì–æ—Ç–æ–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã</router-link>
        <button class="order-btn" @click="showOrderModal">–ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫</button>
      </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
      <h1>–°—Ç—Ä–æ–∏–º –¥–æ–º –≤–∞—à–µ–π –º–µ—á—Ç—ã</h1>
      <button class="cta-btn" @click="scrollToProjects">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–µ–∫—Ç—ã</button>
    </section>

    <!-- Services Block -->
    <section class="services">
      <h2>–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
      <div class="services-grid">
        <ServiceCard
          v-for="service in services"
          :key="service.title"
          :service="service"
        />
      </div>
    </section>

    <!-- Completed Projects -->
    <section class="projects">
      <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç—ã</h2>
      <ProjectGallery :projects="projects" />
      <button class="scheme-btn" @click="showSchemes">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ö–µ–º—ã</button>
    </section>

    <!-- Footer -->
    <Footer />

    <!-- Modals -->
    <OrderModal v-if="showModal" @close="closeModal" />
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import ServiceCard from '@/components/ServiceCard.vue'; // Ensure this file exists
import ProjectGallery from '@/components/ProjectGallery.vue'; // Ensure this file exists
import Footer from '@/components/Footer.vue'; // Ensure this file exists
import OrderModal from '@/components/OrderModal.vue'; // Ensure this file exists

// State Management
const services = ref([
  {
    title: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –¥–æ–º–æ–≤',
    description: '–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ —Å–¥–∞—á–∏',
    icon: 'üè†',
  },
  {
    title: '–†–µ–º–æ–Ω—Ç –∫–≤–∞—Ä—Ç–∏—Ä',
    description: '–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–º–æ–Ω—Ç –ø–æ–¥ –∫–ª—é—á',
    icon: 'üõ†Ô∏è',
  },
  {
    title: '–õ–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã–π –¥–∏–∑–∞–π–Ω',
    description: '–ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –¥–≤–æ—Ä –≤ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞',
    icon: 'üå±',
  },
]);

const projects = ref([
  {
    id: 1,
    name: '–î–æ–º —É –æ–∑–µ—Ä–∞',
    image: '/images/project1.jpg',
    description: '–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ–º —Å –≤–∏–¥–æ–º –Ω–∞ –æ–∑–µ—Ä–æ',
  },
  {
    id: 2,
    name: '–ö–æ—Ç—Ç–µ–¥–∂ –≤ –ª–µ—Å—É',
    image: '/images/project2.jpg',
    description: '–£—é—Ç–Ω—ã–π –∫–æ—Ç—Ç–µ–¥–∂ –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–∏—Ä–æ–¥—ã',
  },
]); // Replace with actual data or fetch from API

const showModal = ref(false);

// Methods
const showOrderModal = () => {
  showModal.value = true;
};

const closeModal = () => {
  showModal.value = false;
};

const scrollToProjects = () => {
  const projectsSection = document.querySelector('.projects');
  if (projectsSection) {
    projectsSection.scrollIntoView({ behavior: 'smooth' });
  }
};

const showSchemes = () => {
  alert('–°—Ö–µ–º—ã –±—É–¥—É—Ç –ø–æ–∫–∞–∑–∞–Ω—ã!');
};
</script>

<style scoped>
/* Styles for main sections */
.header {
  padding: 1rem;
  background: #f5f5f5;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.nav a {
  margin-right: 1rem;
  text-decoration: none;
  color: #333;
  font-weight: bold;
}

.order-btn {
  padding: 0.75rem 1.5rem;
  background: #ff8c00;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
}

.hero {
  height: 70vh;
  background: url('@/assets/hero-bg.jpg') center/cover no-repeat;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  text-align: center;
}

.cta-btn {
  padding: 1rem 2rem;
  background: #ff8c00;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
}

.services {
  padding: 2rem;
  text-align: center;
}

.services-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1
